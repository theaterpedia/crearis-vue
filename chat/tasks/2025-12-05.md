# Daily Tasks: December 5, 2025

> **v0.3 Deadline Day** | **Nina Session at 14:15** | **Sunrise Talk: Capabilities Architecture**

---

## Day Focus
v0.3 milestone completion + Sunrise talk on sysreg_config as single source of truth.

---

## üåÖ Sunrise Talk: sysreg_config as Single Source of Truth

### Agenda
1. **Review CAPABILITIES_REFACTORING_PLAN.md** (15 min)
   - Current utils-driven architecture (`posts-permissions.ts`)
   - Target table-driven architecture (`sysreg_config`)
   - 15 rules mapping to config entries

2. **Key Decisions Needed** (20 min)
   - [ ] Transition encoding: bits vs JSONB metadata?
   - [ ] Project-owner vs record-owner handling?
   - [ ] Fallback behavior: default-deny or error?
   - [ ] Cache invalidation strategy?
   - [ ] Content depth (Rule 7): keep in code?

3. **Timeline Agreement** (10 min)
   - Phase 2 (StatusEditor reads config) ‚Üí v0.3 or defer?
   - Phase 3 (API middleware) ‚Üí v0.4
   - Full switchover ‚Üí v0.5

### Reading Materials (Pre-Sunrise)
- [CAPABILITIES_REFACTORING_PLAN.md](../../docs/devdocs/CAPABILITIES_REFACTORING_PLAN.md)
- [STATUS_EDITOR_GUIDE.md - Further Planning](../../docs/devdocs/STATUS_EDITOR_GUIDE.md#further-planning-table-driven-capabilities)
- [capabilities-howto.md](../../docs/dev/sysreg/capabilities-howto.md)
- [AUTH-SYSTEM-SPEC](./2025-12-01-AUTH-SYSTEM-SPEC.md)

---

## üéØ End-User Session with Nina (14:15)
**Focus A:** Bring concrete project from 'new' ‚Üí 'draft' with events, posts, users
**Focus B:** Test 'regio'-type project entity

> **Key Architecture Insight - Project Type Hierarchy:**
> 
> | Type | First Action | Purpose |
> |------|--------------|----------|
> | **'project'** üëë | Create 2-3 events | THE work. Only type with checkout/payment. |
> | 'topic' | Create a post | Thematic content hub |
> | 'regio' | Configure users & projects | Regional aggregation hub |
> 
> **'project'-type is KING** - where theaterp√§dagogik happens (events).
> Posts/images preview & reflect on events.

**Preparation needed (Thu evening):**
- [ ] Workflow 1 complete: create-and-prepare-a-project
- [ ] User management on projects working
- [ ] Regio-type specific features identified

**Session goals:**
- Real content publishing with images (Hans as owner, Nina as collaborator)
- Test regio hubsite functionality for aggregating published content
- Gather insights for images/tasks workflow from real use case

### Docs Session #1 Continuation (if needed from Dec 4)
- [ ] Complete oklch-and-theming-system documentation
- [ ] Finish screenshot session
- [ ] Complete additional admin chapter

### Images Workflow Implementation (NEW)
- [ ] Review [Images Workflow Plan](./2025-12-05-IMAGES-WORKFLOW-PLAN.md)
- [ ] Migration 049: Create tasks table
- [ ] Implement owner-required check for draft status
- [ ] Task creation on status transition
- [ ] UI: Task badge on images
- [ ] UI: Owner assignment in image detail

### Floating Post-Its ‚Üí Comments Integration
- [ ] Review `chat/FPOSTIT_TESTING_CHECKLIST.md` (manual QA, 336 lines)
- [ ] Enable comments using fpostit infrastructure
- [ ] Consider: Checkbox-Visibility pattern for selection UI (`tests/component/Checkbox-Visibility.test.ts`)

### PageLayout & Panel Guide Review
- [ ] Review `chat/FLOATING_VUE_AND_PANELS_GUIDE.md` for PageLayout alignment
- [ ] Update guide for project-stepper ‚Üî dashboard transitions
- [ ] Document navbar panel interaction patterns
- [ ] Verify z-index strategy for new overlays

### Kanban Feature Preview
> ‚ö†Ô∏è **Note for Hans:** Do NOT try to finish or release Kanban before v0.5!

Kanban serves as **interface spec** for tasks table, showcasing the 7 entity states.

- [ ] Fix KanbanDemo.vue + TaskDashboard.vue (minor fixes)
- [ ] Showcase 2-3 times throughout the day as design driver
- [ ] Use Kanban columns to validate tasks table schema
- [ ] Document Kanban‚Üítasks requirements discovered
- [ ] Consider: Regio-kanban showcase for Nina session

**Components:**
- `src/views/KanbanDemo.vue` - Standalone demo with drag-drop
- `src/views/TaskDashboard.vue` - Full task management view

### Regio-Type Project Features (for Nina Session)
Regio projects have special characteristics:
- **User configuration:** Hub for managing users across child projects
- **Hubsite functionality:** Aggregates published content from multiple projects
- **Test with real content:** Hans as owner, Nina as collaborator

- [ ] Identify regio-specific UI differences
- [ ] Ensure user management works for regio type
- [ ] Prepare sample aggregation view if time permits

## Quick Start
```bash
cd /home/persona/crearis/crearis-vue
pnpm test:v03  # All v0.3 tests should pass
```

---

## Tasks

### v0.3 Completion Checklist

#### Track A: Workflow Logic
- [ ] Event workflow prototype complete
- [ ] Workflow states documented
- [ ] Status‚Üíworkflow integration verified

#### Track B: Internal Experience
- [ ] Event editing complete
- [ ] Event-page configurable
- [ ] Post/Image‚ÜíEvent association working
- [ ] Event checkout configured

#### Track C: External Presentation
- [ ] Project pages functional
- [ ] Page layouts working
- [ ] Galleries displaying correctly
- [ ] Lists displaying correctly
- [ ] Status-based visibility working
- [ ] Legal pages editable (impressum, contact, datenschutz)

### Testing
- [ ] All v0.3 tests passing
- [ ] Manual testing of external presentation
- [ ] Document any failing tests for v0.4

---

## Milestone Review (16:00)
<!-- Fill in after milestone review -->

### Completed
- 

### Deferred to v0.4
- 

### Issues Discovered
- 

---

## References
- [Sprint Roadmap](./2025-12-01-SPRINT-Projectlogin_Workflow.md)
- [Dec 4 Summary](./2025-12-04.md)
- [Capabilities Refactoring Plan](../../docs/devdocs/CAPABILITIES_REFACTORING_PLAN.md)
- [STATUS_EDITOR_GUIDE](../../docs/devdocs/STATUS_EDITOR_GUIDE.md)
- [capabilities-howto](../../docs/dev/sysreg/capabilities-howto.md)
- [AUTH-SYSTEM-SPEC](./2025-12-01-AUTH-SYSTEM-SPEC.md)
