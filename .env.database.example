# Database Configuration Examples

# =============================================================================
# Environment Configuration
# =============================================================================
# CRITICAL: Set NODE_ENV to protect production database from dangerous scripts
# - development: Allows database rebuild/drop commands (for local dev)
# - production: Blocks database rebuild/drop commands (protects live data)

NODE_ENV=development

# =============================================================================
# Local Image Storage Configuration
# =============================================================================
# Path for locally uploaded images (Sharp-based adapter)
# Development: Use a local directory for testing
# Production: Use /opt/crearis/images (default if not set)

LOCAL_IMAGE_STORAGE=./temp_import/local_images

# =============================================================================
# SQLite Configuration (Default)
# =============================================================================
# No configuration needed for SQLite - it works out of the box
# Optionally specify a custom path:

# DATABASE_TYPE=sqlite
# SQLITE_PATH=./crearis-vue.db
# If not set, defaults to ./demo-data.db for backward compatibility


# =============================================================================
# PostgreSQL Configuration
# =============================================================================
# To use PostgreSQL, set these environment variables:

DATABASE_TYPE=postgresql

# PostgreSQL connection details (will be combined into DATABASE_URL by config.ts)
DB_USER=your_username
DB_PASSWORD=your_password
DB_NAME=your_database      # Use *_dev suffix for development (e.g., crearis_admin_dev)
DB_HOST=localhost
DB_PORT=5432
SKIP_MIGRATIONS=false      # false for development, true for production

# Note: DATABASE_URL is automatically constructed from the above values
# Alternatively, you can provide DATABASE_URL directly:
# DATABASE_URL=postgresql://username:password@host:port/database

# Example local PostgreSQL (using separated keys):
# DB_USER=postgres
# DB_PASSWORD=postgres
# DB_NAME=demo_data
# DB_HOST=localhost
# DB_PORT=5432

# Example cloud PostgreSQL (using direct URL):
# DATABASE_URL=postgresql://user:pass@host.provider.com:5432/database?sslmode=require


# =============================================================================
# PostgreSQL Setup Instructions
# =============================================================================
# 1. Install PostgreSQL on your system
# 2. Run the setup script: bash scripts/setup-postgresql.sh
# 3. Or manually create database: createdb demo_data
# 4. Install dependencies: npm install pg @types/pg
# 5. Start the application - tables will be created automatically


# =============================================================================
# Development Workflow
# =============================================================================
# Local Development:
#   Use SQLite (default, no setup)
#
# Testing PostgreSQL:
#   Set DATABASE_TYPE=postgresql with local PostgreSQL
#
# Production:
#   Set environment variables in hosting platform
#   Use PostgreSQL for production deployments


# =============================================================================
# Notes
# =============================================================================
# - SQLite is file-based and perfect for development
# - PostgreSQL is recommended for production
# - Both databases support the same API
# - CSV import/export works with both databases
# - No migration needed between databases (use CSV export/import)
